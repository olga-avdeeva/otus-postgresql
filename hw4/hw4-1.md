- [x] Настройте выполнение контрольной точки раз в 30 секунд.
- [x] 10 минут c помощью утилиты pgbench подавайте нагрузку.
- [x] Измерьте, какой объем журнальных файлов был сгенерирован за это время. Оцените, какой объем приходится в среднем на одну контрольную точку.
  > перед началом тестирования под нагрузкой текущий lsn был
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-1.png)
  > по завершении lsn был
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-2.png)
  > всего было сгенерировано 418 mb журнальных файлов. В среднем на одну контрольную точку приходится около 20 mb
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-3.png)
- [x] Проверьте данные статистики: все ли контрольные точки выполнялись точно по расписанию. Почему так произошло?
  > перед подачей нагрузки я включила параметр log_checkpoints, что позволило получить в журнале сообщений сервера информацию о выполняемых контрольных точках
  > судя по информации журнала сообщений, все контрольные точки выполнялись вовремя. Время выполнения каждой контрольной точки составляло около 15 секунд, т.к. значение параметра checkpoint_completion_target по-умолчанию равно 0.5 и я его не меняла
- [x] Сравните tps в синхронном/асинхронном режиме утилитой pgbench. Объясните полученный результат.
  > синхронный режим
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-4.png)
  > асинхронный режим
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-5.png)
  > в синхронном режиме каждая транзакция в момент фиксации ждет записи журнала на диск, в асинхронном режиме фиксация изменений не ждет записи, ее производит процесс wal writer в фоновом режиме. Таким образом при асинхронной записи отсутствуют затраты на реальный ввод-вывод при каждой фиксации транзакции, но страдает надежность, т.к. в случае сбоя не все журнальные файлы могут быть записаны на диск.
- [x] Создайте новый кластер с включенной контрольной суммой страниц. Создайте таблицу. Вставьте несколько значений. Выключите кластер. Измените пару байт в таблице. Включите кластер и сделайте выборку из таблицы. Что и почему произошло? как проигнорировать ошибку и продолжить работу?
  > создала новый кластер с включенной контрольной суммой страниц
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-6.png)
  > подключилась, проверила что контрольная сумма включена
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-7.png)
  > создала базу данных, таблицу и вставила записи в таблицу.
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-8.png)
  > остановила кластер, изменила данные в файле таблицы, запустила кластер
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-9.png)
  > подключилась к кластеру, попробовала получить данные из таблицы
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-10.png)
  > т.к. я изменила файл с данными таблицы, контрольная сумма стала неверной и postgres сообщил о том что произошла ошибка валидации контрольной суммы страницы. Чтобы продолжить работу можно включить параметр ignore_checksum_failure, который позволяет проигнорировать ошибку верификации контрольной суммы и попробовать считать таблицу с риском получить искаженные данные.
  ![alt text](https://github.com/olga-avdeeva/otus-postgresql/blob/master/hw4/img/hw4-1-11.png)


